{% extends 'base.html' %}
{% load static %}

{% block content %}
<section class="hero">
    <div class="container hero__grid">
        <div class="hero__content">
            <h1 class="hero__title">
                Безупречная чистота, <br>
                <span class="text-accent">ноль ваших усилий</span>
            </h1>
            <p class="hero__subtitle">
                Профессиональный клининг в Брянске, который экономит ваше время. Закажите уборку онлайн за 2 минуты!
            </p>
            <div class="hero__actions">
                <a href="#services" class="button">Смотреть услуги</a>
                <a href="#toggle-form" class="button button--outline">Рассчитать стоимость</a>
            </div>
        </div>
        <aside class="hero__form" id="toggle-form">
            <div class="form-card">
                <h3 class="form-card__title">Онлайн заявка</h3>
                <form action="{% url 'pages:submit_form' %}" method="POST" novalidate>
                    {% csrf_token %}
                    <div class="form-toggle">
                        <input type="radio" id="toggle-private" name="object_type_toggle" value="private" checked>
                        <label for="toggle-private">Квартира / Дом</label>
                        <input type="radio" id="toggle-commercial" name="object_type_toggle" value="commercial">
                        <label for="toggle-commercial">Офис</label>
                    </div>

                    <div class="form-fields-wrapper">
                        <div class="form-fields" id="private-fields">
                            <div class="field">
                                <select name="Тип уборки" class="field__input">
                                    <option value="" disabled selected>Выберите тип уборки...</option>
                                    <option value="Генеральная уборка">Генеральная уборка</option>
                                    <option value="Поддерживающая уборка">Поддерживающая уборка</option>
                                    <option value="Уборка после ремонта">Уборка после ремонта</option>
                                    <option value="Мытье окон">Мытье окон</option>
                                </select>
                            </div>
                            <div class="field">
                                <div class="rooms-selector">
                                    <input type="radio" id="rooms-1" name="Кол-во комнат" value="1" checked><label for="rooms-1">1к</label>
                                    <input type="radio" id="rooms-2" name="Кол-во комнат" value="2"><label for="rooms-2">2к</label>
                                    <input type="radio" id="rooms-3" name="Кол-во комнат" value="3"><label for="rooms-3">3к</label>
                                    <input type="radio" id="rooms-4p" name="Кол-во комнат" value="4+"><label for="rooms-4p">4+</label>
                                </div>
                            </div>
                        </div>
                        <div class="form-fields" id="commercial-fields" hidden>
                            <div class="field">
                                <input type="number" name="Площадь, м²" placeholder="Примерная площадь, м²" class="field__input">
                            </div>
                             <div class="field">
                                <input type="text" name="Тип объекта" placeholder="Тип объекта (офис, магазин)" class="field__input">
                            </div>
                        </div>
                    </div>

                    <div class="field">
                        <input class="field__input" id="phone-mask" name="phone" type="tel" placeholder="Ваш телефон *" required>
                    </div>
                    <input type="hidden" name="name" value="Быстрая заявка">
                    <button class="button button--full" type="submit">Узнать стоимость</button>
                    <p class="form-card__note">Нажимая, вы соглашаетесь на обработку персональных данных.</p>
                </form>
            </div>
        </aside>
    </div>
</section>

<section id="services" class="section services-section">
    <div class="container">
        <h2 class="section__title">Наши услуги</h2>
        <div class="service-grid">
            {% for service in services %}
            <a href="{% url 'services:detail' service.slug %}" class="service-card">
                <div class="service-card__image">
                    <img src="{% static 'img/worksbg/'|add:service.slug|add:'.png' %}" alt="{{ service.title }}">
                </div>
                <div class="service-card__body">
                    <h3 class="service-card__title">{{ service.title }}</h3>
                    <p class="service-card__desc">{{ service.short_description }}</p>
                    <div class="service-card__footer">
                        <span class="service-card__link">Узнать подробнее</span>
                        <span class="service-card__arrow material-symbols-outlined">arrow_forward</span>
                    </div>
                </div>
            </a>
            {% empty %}
                <p>Услуги скоро появятся на сайте.</p>
            {% endfor %}
        </div>
    </div>
</section>

<section id="advantages" class="section">
    <div class="container">
        <h2 class="section__title">Почему выбирают "Золушку"</h2>
        <div class="advantages-grid">
            <div class="advantage-card">
                <div class="advantage-card__icon"><span class="material-symbols-outlined">health_and_safety</span></div>
                <h3 class="advantage-card__title">Безопасные средства</h3>
                <p class="advantage-card__text">Используем гипоаллергенную и экологичную химию для вашей безопасности.</p>
            </div>
            <div class="advantage-card">
                <div class="advantage-card__icon"><span class="material-symbols-outlined">diamond</span></div>
                <h3 class="advantage-card__title">Внимание к деталям</h3>
                <p class="advantage-card__text">Находим и отмываем грязь даже там, куда вы боитесь заглядывать.</p>
            </div>
            <div class="advantage-card">
                <div class="advantage-card__icon"><span class="material-symbols-outlined">verified_user</span></div>
                <h3 class="advantage-card__title">Гарантия сохранности</h3>
                <p class="advantage-card__text">Несем полную материальную ответственность за ваше имущество.</p>
            </div>
            <div class="advantage-card">
                <div class="advantage-card__icon"><span class="material-symbols-outlined">schedule</span></div>
                <h3 class="advantage-card__title">Всегда вовремя</h3>
                <p class="advantage-card__text">Наши клинеры приезжают в точно назначенное время без опозданий.</p>
            </div>
        </div>
    </div>
</section>

{% if portfolio_items %}
<section id="portfolio-teaser" class="section">
    <div class="container">
        <h2 class="section__title">Превращаем "до" в "после"</h2>
        <div class="portfolio-teaser__grid">
            {% for project in portfolio_items %}
            <a href="{% url 'portfolio:list' %}" class="portfolio-card">
                <img src="{{ project.preview_image.url }}" alt="Пример работы: {{ project.title }}" loading="lazy">
            </a>
            {% endfor %}
        </div>
        <div style="text-align: center; margin-top: 5rem;">
            <a href="{% url 'portfolio:list' %}" class="button button--outline">Смотреть все работы</a>
        </div>
    </div>
</section>
{% endif %}
{% endblock content %}